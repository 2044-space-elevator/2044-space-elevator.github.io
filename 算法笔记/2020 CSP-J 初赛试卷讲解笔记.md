#数学  #贪心 
## 阅读程序第二题

~~（前面的题我都会）~~

第 $5$ 题的解题方法：

- 第 $1$ 位，每 $k$ 次运算进位 $1$ 次。
- 第 $2$ 位，每 $k^2$ 次运算进位 $1$ 次。
- 因此第 $1$ 位会产生 $\frac{3^{30}}{3}$ 次进位，第二次产生 $\frac{3^{30}}{3^2}$，最后一次 $\frac{3^{30}}{3^{30}}$。

这里需要用等比数列求和公式：

$$
S_n=\frac{(a_1(1-q^n))}{(1-q)}
$$

可以得到：

$$
\begin{aligned}
S_n&=\frac{\frac{3^{30}}{3}-\frac{3^{30}}{3}(\frac{1}{3})^{30}}{\frac{2}{3}}\\\
&=\frac{\frac{3^{30}}{3}-\frac{1}{3}}{\frac{2}{3}}\\\
&=\frac{\frac{3^{30}-1}{3}}{\frac{2}{3}}\\\
&=\frac{3^{30}-1}{3}\times \frac{3}{2}\\\
&=\frac{3^{30}-1}{2}
\end{aligned}
$$



## 完善程序第一题

分解质因数，其实就是试除法。伪代码：

```cpp
for (int i = 2; i <= n; i++)
{
	while (n % i == 0)
	{
		cout << i << " ";
		n /= i;
	}
}
```

## 完善程序第二题

正解是贪心，有点像尼谷中的区间覆盖那道题。

先按区间左端点排序，左端点小的放前面；再按右端点排序，右端点大的放前面。

 ![ClassIn_20230812111126.jpeg](https://img1.imgtp.com/2023/08/12/6mmGAi3F.jpeg)

题目要求使用冒泡排序，那么：

```cpp
void sort()
{
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < n; j++)
		{
			if (A[j].a < A[j - 1].a)
			{
				segment t = A[j];
				A[j] = A[j - 1];
				A[j - 1] = t;
			}
		}
	}
}
```

在主函数里，我们需要先将这些区间按照右端点排序。

```cpp
int q = 0;

for (int i = 1; i < n; i++)
{
	if (A[i].b > A[i - 1].b)
	{
		A[p++] = A[i];
	}
}
```

最后，定义变量 `r`，只要 `r < m`，就一直选择区间（前提是这些区间不冲突），代码如下：

```cpp
while (r < m)
{
	while (q + 1 < n && A[q + 1].a <= r)
	{
		q++;
	}
	ans++; // ans 就是答案
}
```
